\hypertarget{rb__http__handler_8c}{}\section{src/rb\+\_\+http\+\_\+handler.c File Reference}
\label{rb__http__handler_8c}\index{src/rb\+\_\+http\+\_\+handler.\+c@{src/rb\+\_\+http\+\_\+handler.\+c}}


Main library.  


{\ttfamily \#include \char`\"{}rb\+\_\+http\+\_\+handler.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rb\+\_\+http\+\_\+normal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rb\+\_\+http\+\_\+chunked.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$ \hyperlink{rb__http__handler_8c_aa338cb73c0754c16c8a05621b995ea59}{rb\+\_\+http\+\_\+handler\+\_\+create} (const char $\ast$urls\+\_\+str, char $\ast$err, size\+\_\+t errsize)
\begin{DoxyCompactList}\small\item\em Functions. \end{DoxyCompactList}\item 
int \hyperlink{rb__http__handler_8c_ab306abb2b4a66b092205de2677d342aa}{rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$rb\+\_\+http\+\_\+handler, const char $\ast$key, const char $\ast$val, char $\ast$err, size\+\_\+t errsize)
\item 
void \hyperlink{rb__http__handler_8c_aec9a18015fc9221b582348ccfb48cb34}{rb\+\_\+http\+\_\+handler\+\_\+run} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$rb\+\_\+http\+\_\+handler)
\item 
void \hyperlink{rb__http__handler_8c_aa0bd3f75d87af6c49108638a0037de86}{rb\+\_\+http\+\_\+handler\+\_\+destroy} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$rb\+\_\+http\+\_\+handler, char $\ast$err, size\+\_\+t errsize)
\item 
int \hyperlink{rb__http__handler_8c_a0d0d31d9c2dc9ed04d6722e5653b4682}{rb\+\_\+http\+\_\+produce} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$\hyperlink{rb__http__handler__example_8c_a0165697b451a136ac74647662a5a39e1}{handler}, char $\ast$buff, size\+\_\+t len, int flags, char $\ast$err, size\+\_\+t errsize, void $\ast$opaque)
\item 
int \hyperlink{rb__http__handler_8c_a309fed4678d407d03df1eb22bad356cc}{rb\+\_\+http\+\_\+batch\+\_\+produce} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$\hyperlink{rb__http__handler__example_8c_a0165697b451a136ac74647662a5a39e1}{handler}, char $\ast$buff, size\+\_\+t len, int flags, char $\ast$err, size\+\_\+t errsize, void $\ast$opaque)
\item 
int \hyperlink{rb__http__handler_8c_a890e981b619b1bdd5cc37fa16bb06f06}{rb\+\_\+http\+\_\+get\+\_\+reports} (struct \hyperlink{structrb__http__handler__s}{rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$rb\+\_\+http\+\_\+handler, \hyperlink{rb__http__handler_8h_afd9ccf19b724dbf3ce572d01455b99bf}{cb\+\_\+report} report\+\_\+fn, int timeout\+\_\+ms)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main library. 

\begin{DoxyAuthor}{Author}
Diego Fern√°ndez Barrera 
\end{DoxyAuthor}


\subsection{Function Documentation}
\hypertarget{rb__http__handler_8c_a309fed4678d407d03df1eb22bad356cc}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+batch\+\_\+produce@{rb\+\_\+http\+\_\+batch\+\_\+produce}}
\index{rb\+\_\+http\+\_\+batch\+\_\+produce@{rb\+\_\+http\+\_\+batch\+\_\+produce}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+batch\+\_\+produce}]{\setlength{\rightskip}{0pt plus 5cm}int rb\+\_\+http\+\_\+batch\+\_\+produce (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{handler, }
\item[{char $\ast$}]{buff, }
\item[{size\+\_\+t}]{len, }
\item[{int}]{flags, }
\item[{char $\ast$}]{err, }
\item[{size\+\_\+t}]{errsize, }
\item[{void $\ast$}]{opaque}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_a309fed4678d407d03df1eb22bad356cc}
\mbox{[}rb\+\_\+http\+\_\+batch\+\_\+produce description\mbox{]} 
\begin{DoxyParams}{Parameters}
{\em handler} & \mbox{[}description\mbox{]} \\
\hline
{\em buff} & \mbox{[}description\mbox{]} \\
\hline
{\em len} & \mbox{[}description\mbox{]} \\
\hline
{\em flags} & \mbox{[}description\mbox{]} \\
\hline
{\em err} & \mbox{[}description\mbox{]} \\
\hline
{\em errsize} & \mbox{[}description\mbox{]} \\
\hline
{\em opaque} & \mbox{[}description\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}description\mbox{]} 
\end{DoxyReturn}


Definition at line 210 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_a890e981b619b1bdd5cc37fa16bb06f06}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+get\+\_\+reports@{rb\+\_\+http\+\_\+get\+\_\+reports}}
\index{rb\+\_\+http\+\_\+get\+\_\+reports@{rb\+\_\+http\+\_\+get\+\_\+reports}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+get\+\_\+reports}]{\setlength{\rightskip}{0pt plus 5cm}int rb\+\_\+http\+\_\+get\+\_\+reports (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{rb\+\_\+http\+\_\+handler, }
\item[{{\bf cb\+\_\+report}}]{report\+\_\+fn, }
\item[{int}]{timeout\+\_\+ms}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_a890e981b619b1bdd5cc37fa16bb06f06}
\mbox{[}rb\+\_\+http\+\_\+get\+\_\+reports description\mbox{]} 
\begin{DoxyParams}{Parameters}
{\em rb\+\_\+http\+\_\+handler} & \mbox{[}description\mbox{]} \\
\hline
{\em report\+\_\+fn} & \mbox{[}description\mbox{]} \\
\hline
{\em timeout\+\_\+ms} & \mbox{[}description\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}description\mbox{]} 
\end{DoxyReturn}


Definition at line 230 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_aa338cb73c0754c16c8a05621b995ea59}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+handler\+\_\+create@{rb\+\_\+http\+\_\+handler\+\_\+create}}
\index{rb\+\_\+http\+\_\+handler\+\_\+create@{rb\+\_\+http\+\_\+handler\+\_\+create}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+handler\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s}$\ast$ rb\+\_\+http\+\_\+handler\+\_\+create (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{urls\+\_\+str, }
\item[{char $\ast$}]{err, }
\item[{size\+\_\+t}]{errbuf}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_aa338cb73c0754c16c8a05621b995ea59}


Functions. 

Creates a handler to produce messages. 
\begin{DoxyParams}{Parameters}
{\em urls\+\_\+str} & List of comma sepparated U\+R\+Ls. If the first U\+R\+L doesn\textquotesingle{}t work it will try the next one. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Handler for send messages to the provided U\+R\+L. 
\end{DoxyReturn}


Definition at line 10 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_aa0bd3f75d87af6c49108638a0037de86}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+handler\+\_\+destroy@{rb\+\_\+http\+\_\+handler\+\_\+destroy}}
\index{rb\+\_\+http\+\_\+handler\+\_\+destroy@{rb\+\_\+http\+\_\+handler\+\_\+destroy}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+handler\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void rb\+\_\+http\+\_\+handler\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{rb\+\_\+http\+\_\+handler, }
\item[{char $\ast$}]{err, }
\item[{size\+\_\+t}]{errsize}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_aa0bd3f75d87af6c49108638a0037de86}
Destroy and cleans the Handler 
\begin{DoxyParams}{Parameters}
{\em rb\+\_\+http\+\_\+handler} & Handler to destroy \\
\hline
{\em err} & Error string \\
\hline
{\em errsize} & Length of the error \\
\hline
\end{DoxyParams}


Definition at line 133 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_aec9a18015fc9221b582348ccfb48cb34}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+handler\+\_\+run@{rb\+\_\+http\+\_\+handler\+\_\+run}}
\index{rb\+\_\+http\+\_\+handler\+\_\+run@{rb\+\_\+http\+\_\+handler\+\_\+run}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+handler\+\_\+run}]{\setlength{\rightskip}{0pt plus 5cm}void rb\+\_\+http\+\_\+handler\+\_\+run (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{rb\+\_\+http\+\_\+handler}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_aec9a18015fc9221b582348ccfb48cb34}
Initializes threads 
\begin{DoxyParams}{Parameters}
{\em rb\+\_\+http\+\_\+handler} & Handler to initialize \\
\hline
\end{DoxyParams}


Definition at line 76 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_ab306abb2b4a66b092205de2677d342aa}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt@{rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt}}
\index{rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt@{rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt}]{\setlength{\rightskip}{0pt plus 5cm}int rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{rb\+\_\+http\+\_\+handler, }
\item[{const char $\ast$}]{key, }
\item[{const char $\ast$}]{val, }
\item[{char $\ast$}]{err, }
\item[{size\+\_\+t}]{errsize}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_ab306abb2b4a66b092205de2677d342aa}
\mbox{[}rb\+\_\+http\+\_\+handler\+\_\+set\+\_\+opt description\mbox{]} 
\begin{DoxyParams}{Parameters}
{\em rb\+\_\+http\+\_\+handler} & \mbox{[}description\mbox{]} \\
\hline
{\em key} & \mbox{[}description\mbox{]} \\
\hline
{\em val} & \mbox{[}description\mbox{]} \\
\hline
{\em err} & \mbox{[}description\mbox{]} \\
\hline
{\em errsize} & \mbox{[}description\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}description\mbox{]} 
\end{DoxyReturn}


Definition at line 43 of file rb\+\_\+http\+\_\+handler.\+c.

\hypertarget{rb__http__handler_8c_a0d0d31d9c2dc9ed04d6722e5653b4682}{}\index{rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}!rb\+\_\+http\+\_\+produce@{rb\+\_\+http\+\_\+produce}}
\index{rb\+\_\+http\+\_\+produce@{rb\+\_\+http\+\_\+produce}!rb\+\_\+http\+\_\+handler.\+c@{rb\+\_\+http\+\_\+handler.\+c}}
\subsubsection[{rb\+\_\+http\+\_\+produce}]{\setlength{\rightskip}{0pt plus 5cm}int rb\+\_\+http\+\_\+produce (
\begin{DoxyParamCaption}
\item[{struct {\bf rb\+\_\+http\+\_\+handler\+\_\+s} $\ast$}]{handler, }
\item[{char $\ast$}]{buff, }
\item[{size\+\_\+t}]{len, }
\item[{int}]{flags, }
\item[{char $\ast$}]{err, }
\item[{size\+\_\+t}]{errsize, }
\item[{void $\ast$}]{opaque}
\end{DoxyParamCaption}
)}\label{rb__http__handler_8c_a0d0d31d9c2dc9ed04d6722e5653b4682}
\mbox{[}rb\+\_\+http\+\_\+produce description\mbox{]} 
\begin{DoxyParams}{Parameters}
{\em handler} & \mbox{[}description\mbox{]} \\
\hline
{\em buff} & \mbox{[}description\mbox{]} \\
\hline
{\em len} & \mbox{[}description\mbox{]} \\
\hline
{\em flags} & \mbox{[}description\mbox{]} \\
\hline
{\em err} & \mbox{[}description\mbox{]} \\
\hline
{\em errsize} & \mbox{[}description\mbox{]} \\
\hline
{\em opaque} & \mbox{[}description\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}description\mbox{]} 
\end{DoxyReturn}


Definition at line 161 of file rb\+\_\+http\+\_\+handler.\+c.

